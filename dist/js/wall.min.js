requirejs.config({baseUrl:"./js",paths:{jQuery:"jquery/dist/jquery.min",PIXI:"PIXI/pixi",ssm:"simplestatemanager/dist/ssm.min"},shim:{jQuery:{exports:"jQuery"},PIXI:{deps:["jQuery"],exports:"PIXI"},ssm:{exports:"ssm"}}}),define("main.js",function(){}),define("Wall",["jQuery","PIXI","StartButton","BrickTexture","Brick"],function(e,t,n,r,i){"use strict";var s=[],o=0,u=0,a=0,f=0,l=0,c=0,h=[],p=0,d=0,v=0,m=0,g=0,y=0,b=0,w=[],E=!1;t.Sprite.prototype.animating=!1,t.Sprite.prototype.flagOnAnimation=function(){this.animating=!0},t.Sprite.prototype.flagOffAnimation=function(){this.animating=!1},t.Sprite.prototype.isAnimating=function(){return this.animating},e.fn.AddWallAnimation=function(e){function v(){E?d.remove():requestAnimFrame(v);switch(r){case i:break;case u:S.startWallAnimation(),r=a;break;case a:p++,S.animateWall(p)||(r=f);break;case f:E=!0}c.render(l)}var r=0,i=0,u=1,a=2,f=3,l=new t.Stage(0,!0),c=null,h=S.initialize(e);n.initialize({stage:l,spriteSheet:e.startButtonSpriteSheet,positionX:h.x,positionY:h.y,setAnimationState:function(){r=u},speed:e.startButtonSpriteSheet.speed}),n.start();var p=0,d=this;c=t.autoDetectRenderer(S.wallWidth(),S.wallHeight(),null,!0),this.append(c.view),c.view.style.position="absolute",c.view.style.top="0px",c.view.style.left="0px";for(var m=0;m<s.length;m++)for(var g=0;g<s[m].length;g++,o++)l.addChild(s[m][g].component);requestAnimFrame(v)};var S={initialize:function(e){s=e.bricks||[],o=e.wallSize||0,u=e.count||0,a=e.xRowOffset||0,f=e.yRowOffset||0,l=e.wallXPosition||0,c=e.wallYPosition||0,h=e.slidingBrick||[],p=e.startRow||0,d=e.startCol||0,v=e.wallRows||0,m=e.wallCols||0,g=e.sb||0,y=e.textureWidth||0,b=e.textureHeight||0,e.textureSrc instanceof Array?w=e.textureSrc.map(function(e){return new r(e,b,y)}):w=[];var t=l+a,n=c+f,E,S=0;for(var x=0;x<v;x++){s[x]=[];for(var T=0;T<m;T++){var N=0;w.length>1&&(N=Math.floor(Math.random()*w.length));var C=new i(x,T,t,n,w[N].texture);T<=d&&(C.slideRight=!1),x===p&&T===d&&(E=t,S=n),s[x].push(C),t+=parseInt(y)}x%2===0?t=0:t=parseInt(a),n+=parseInt(b)}return{x:E,y:S}},wallWidth:function(){return m*y},wallHeight:function(){return v*b},startBrickAnimating:function(e,t){e<s.length&&t<s[e].length&&this.animateBrick(s[e][t])},animateBrick:function(e){return e.component.isAnimating()?!1:(e.component.flagOnAnimation(),u++,h.push(e),!0)},triggerAdjacentBricks:function(e,t){e<s.length&&!s[e][t].component.isAnimating()&&this.startBrickAnimating(e,t),e+1<s.length&&!s[e+1][t].component.isAnimating()&&this.startBrickAnimating(e+1,t),e-1>=0&&!s[e-1][t].slideFlag&&this.startBrickAnimating(e-1,t),t+1<s[e].length&&!s[e][t+1].component.isAnimating()&&this.startBrickAnimating(e,t+1),t-1>=0&&!s[e][t-1].component.isAnimating()&&this.startBrickAnimating(e,t-1)},startWallAnimation:function(){this.startBrickAnimating(p,d)},animateWall:function(e){if(u>0)for(var t=0;t<h.length;t++){var n=h[t].row,r=h[t].column;s[n][r].moveBrick()}else this.startWallAnimation();if(e%7===0)for(var i=0;i<3;i++)if(this.getNextBrick())return!1;return!0},getNextBrick:function(){return u<o?(g<h.length&&(this.triggerAdjacentBricks(h[g].row,h[g].column),g++),!1):!0},checkPosition:function(e){return e.component.positionX>this.wallWidth()||e.component.positionX<0-y?!0:!1}};return S}),define("Wall.js",function(){}),define("BrickTexture",["PIXI"],function(e){"use strict";var t=function(t,n,r){this.img=t,this.height=n||0,this.width=r||0,this.texture=e.Texture.fromImage(t)};return t}),define("BrickTexture.js",function(){}),define("StartButton",["PIXI"],function(e){var t={stage:undefined,spriteSheet:undefined,positionX:undefined,positionY:undefined,setAnimationState:undefined,speed:undefined,initialize:function(e){this.stage=e.stage,this.spriteSheet=e.spriteSheet,this.positionX=e.positionX||0,this.positionY=e.positionY||0,this.setAnimationState=e.setAnimationState,this.speed=parseInt(e.speed)||1;if(isNaN(this.speed)||this.speed<1)this.speed=1},start:function(){try{var n=new e.AssetLoader(this.spriteSheet.spriteSheetLoader);n.onComplete=function(){var n=[];n=t.setFrameRate(t.spriteSheet.spriteNameList,t.speed).map(function(t){return e.Texture.fromFrame(t)});var r=new e.MovieClip(n);r.buttonMode=!0,r.position.x=t.positionX,r.position.y=t.positionY,r.anchor.x=.5,r.anchor.y=.5,r.interactive=!0,r.click=function(){t.stage.removeChild(r),t.setAnimationState()},r.play(),t.stage.addChild(r)},n.load()}catch(r){}},setFrameRate:function(e,t,n){if(t===1&&n===!1)return e;var r=[];for(var i=0;i<e.length;i++)for(var s=0;s<t;s++)r.push(e[i]);if(n===!1)return r;var o=r.slice(0);return r.reverse().map(function(e){o.push(e)}),o}};return t}),define("StartButton.js",function(){}),define("Brick",["PIXI"],function(e){var t=function(t,n,r,i,s){this.slideRight=!0,this.row=t||0,this.column=n||0,this.speed=1,s instanceof e.Texture?(this.component=new e.Sprite(s),this.component.position.x=r||0,this.component.position.y=i||0,this.component.anchor.x=.5,this.component.anchor.y=.5):this.component=null,this.interactive=!0,this.moveBrick=function(){this.speed<25&&this.speed++,this.component&&(this.slideRight?this.component.position.x+=this.speed:this.component.position.x-=this.speed)}};return t}),define("Brick.js",function(){});